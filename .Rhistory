years = 1984:2017
for(y in years){
destfile <- paste0("~/data/gridmet/pdsi_",y,".nc")
sourcefile <- paste0("http://www.northwestknowledge.net/metdata/data/pdsi_",y,".nc")
if(!file.exists(destfile)){
download.file(sourcefile, destfile)}
}
years = 1984:2017
dir.create("data/gridmet")
for(y in years){
destfile <- paste0("~/data/gridmet/pdsi_",y,".nc")
sourcefile <- paste0("http://www.northwestknowledge.net/metdata/data/pdsi_",y,".nc")
if(!file.exists(destfile)){
download.file(sourcefile, destfile)}
}
years = 1984:2017
dir.create("data/gridmet")
dir.create("~/data/gridmet")
for(y in years){
destfile <- path.expand(paste0("~/data/gridmet/pdsi_",y,".nc"))
sourcefile <- paste0("http://www.northwestknowledge.net/metdata/data/pdsi_",y,".nc")
if(!file.exists(destfile)){
download.file(sourcefile, destfile)}
}
?unzip
library(sf)
mtbs <- st_read(mtbs_file)
mtbs_file <- "~/data/fire/mtbs/mtbs_perimeter_data/mtbs_perims_DD.shp"
mtbs <- st_read(mtbs_file)
library(sf)
library(raster)
library(ncdf4) # data is in netcdfs
library(rgdal) #
install.packages("raster")
install.packages("ncdf4")
install.packages("rgdal")
library(sf)
library(raster)
library(ncdf4) # data is in netcdfs
library(rgdal) #
# pdsi -------------------------------------------------------------------------
years <- 1984:2017
dir.create("~/data/gridmet")
for(y in years){
destfile <- path.expand(paste0("~/data/gridmet/pdsi_",y,".nc"))
sourcefile <- paste0("http://www.northwestknowledge.net/metdata/data/pdsi_",y,".nc")
if(!file.exists(destfile)){
download.file(sourcefile, destfile)}
}
mtbs_file <- "~/data/fire/mtbs/mtbs_perimeter_data/mtbs_perims_DD.shp"
destfile = "~/Downloads/mtbs.zip"
if(!file.exists(mtbs_file)){
download.file("https://edcintl.cr.usgs.gov/downloads/sciweb1/shared/MTBS_Fire/data/composite_data/burned_area_extent_shapefile/mtbs_perimeter_data.zip",
destfile =destfile)
unzip(destfile, exdir = "~/data/fire/mtbs/")
}
mtbs <- st_read(mtbs_file)
mtbs_file <- list.files("~/data/fire/mtbs", pattern = ".shp")
mtbs_file
mtbs_file <- list.files("~/data/fire/mtbs", pattern = "DD.shp ")
mtbs_file
mtbs_file <- list.files("~/data/fire/mtbs", pattern = "DD.shp")
mtbs_file
mtbs_file <- list.files("~/data/fire/mtbs", pattern = "DD.shp")[1]
mtbs_file
# fire -------------------------------------------------------------------------
mtbs_file <- "~/data/fire/mtbs/mtbs_perims_DD.shp"
destfile <- "~/Downloads/mtbs.zip"
if(!file.exists(mtbs_file)){
download.file("https://edcintl.cr.usgs.gov/downloads/sciweb1/shared/MTBS_Fire/data/composite_data/burned_area_extent_shapefile/mtbs_perimeter_data.zip",
destfile =destfile)
unzip(destfile, exdir = "~/data/fire/mtbs/")
}
#mtbs_file <- list.files("~/data/fire/mtbs", pattern = "DD.shp")[1]
mtbs <- st_read(mtbs_file)
unlink(destfile)
